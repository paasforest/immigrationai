# Run these commands on Hetzner (you're already there!)

cd /var/www/immigrationai/backend

# 1. Pull latest code
git pull origin main

# 2. Install dependencies
npm install --production

# 3. Run migrations (creates new marketplace tables)
npx prisma migrate deploy

# 4. Generate Prisma client
npx prisma generate

# 5. Seed marketplace services (8 services)
npm run seed:services

# 6. Build TypeScript
npm run build

# 7. Restart PM2
pm2 restart immigration-backend

# 8. Check status
pm2 status

# 9. View logs
pm2 logs immigration-backend --lines 20

# 10. Test API
curl http://localhost:4000/api/intake/services
